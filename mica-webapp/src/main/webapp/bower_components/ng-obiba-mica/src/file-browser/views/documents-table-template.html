<div class="panel panel-default table-responsive table-responsive-dropdown">
  <div class="panel-heading" ng-if="data.search.active">
      <a class="no-text-decoration" ng-click="clearSearch()">
        <i class="fa fa-chevron-left"> </i>
      </a>
      <span ng-if="data.search.recursively">{{'file.search-results.current-sub' | translate}}</span>
      <span ng-if="!data.search.recursively">{{'file.search-results.current' | translate}}</span>
      ({{data.document.children.length}})
  </div>
  <div ng-if="data.document.children.length > 0">
    <table class="table table-bordered table-striped no-padding no-margin">
      <thead>
      <tr>
        <th colspan="2" translate>name</th>
        <th style="width: 100px" translate>type</th>
        <th style="width: 100px" translate>size</th>
        <th style="width: 150px" translate>modified</th>
        <th ng-if="data.search.active" translate>folder</th>
      </tr>
      </thead>
      <tbody>
      <tr ng-show="!data.isRoot && data.document.path !== data.rootPath && !data.search.active">
        <td colspan="5">
          <i class="fa fa-folder"></i>
          <span><a href class="no-text-decoration" ng-click="navigateBack()"> ..</a></span>
        </td>
      </tr>
      <tr ng-class="{'selected-row': $index === pagination.selected}"
          dir-paginate="document in data.document.children | itemsPerPage: pagination.itemsPerPage"
          ng-init="fileDocument = isFile(document)"
          current-page="pagination.currentPage">

        <td ng-click="showDetails(document, $index);">
          <span>
            <span ng-if="fileDocument">
              <i class="fa {{getDocumentIcon(document)}}"></i>
              <a ng-if="fileDocument" target="{{downloadTarget}}"
                 style="text-decoration: none" ng-click="$event.stopPropagation();" ng-href="{{getDownloadUrl(document.path)}}"
                  title="{{document.name}}">
                {{document.name}}
              </a>
            </span>
            <span ng-if="!fileDocument">
              <i class="fa {{getDocumentIcon(document)}}"></i>
              <a href style="text-decoration: none" ng-click="navigateTo($event, document)">
                {{document.name}}
              </a>
            </span>
          </span>
        </td>

        <td class="fit-content">
          <span class="btn-group pull-right" uib-dropdown is-open="status.isopen">
            <a title="{{'show-details' | translate}}" id="single-button" class="dropdown-anchor" uib-dropdown-toggle
               ng-disabled="disabled">
              <i class="glyphicon glyphicon-option-horizontal btn-large"></i>
            </a>
            <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
              <li role="menuitem">
                <a href ng-click="showDetails(document, $index)">
                  <span><i class="fa fa-info"></i><span class="hoffset2">{{'details' | translate}}</span></span>
                </a>
              </li>
              <li role="menuitem">
                <a target="{{downloadTarget}}" ng-href="{{getDownloadUrl(document.path)}}">
                  <span><i class="fa fa-download"></i><span class="hoffset2">{{'download' | translate}}</span></span>
                </a>
              </li>
            </ul>
          </span>
        </td>

        <td>
          <span ng-repeat="t in getTypeParts(document) track by $index"
            class="label label-info"
            ng-class="{'hoffset1' : !$first}">{{t}}</span>
        </td>
        <td class="no-wrap" ng-if="fileDocument">
          {{document.size | bytes}}
        </td>
        <td class="no-wrap" ng-if="!fileDocument">
          {{document.size}} {{document.size === 1 ? 'item' : 'items' | translate}}
        </td>
        <td>
          {{document.timestamps.lastUpdate | amTimeAgo}}
        </td>
        <td ng-if="data.search.active">
          <a href class="no-text-decoration" ng-click="navigateToParent($event, document)">
            {{document.attachment.path === data.rootPath ? '/' : document.attachment.path.replace(data.rootPath, '')}}
          </a>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>