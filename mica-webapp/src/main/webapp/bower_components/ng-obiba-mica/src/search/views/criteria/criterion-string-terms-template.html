<ul class="dropdown-menu query-dropdown-menu" aria-labelledby="{{criterion.vocabulary.name}}-button">
  <ng-include src="'search/views/criteria/criterion-header-template.html'"></ng-include>
  <li class="btn-group">
    <ul class="criteria-list-item">
      <li>
        <label>
          <input ng-click="updateFilter()" type="radio" ng-model="selectedFilter" value="{{RQL_NODE.EXISTS}}">
          {{'any' | translate}}
        </label>
      </li>
      <li>
        <label>
          <input ng-click="updateFilter()" type="radio" ng-model="selectedFilter" value="{{RQL_NODE.MISSING}}">
          {{'none' | translate}}
        </label>
      </li>
      <li>
        <label>
          <input ng-click="updateFilter()" type="radio" ng-model="selectedFilter" value="{{RQL_NODE.IN}}">
          {{'in' | translate}}
        </label>
      </li>
    </ul>
  </li>
  <li ng-show="isInFilter()" class='divider'></li>
  <li class="criteria-list-item" ng-show="state.loading">
    <p class="voffset2 loading">
    </p>
  </li>
  <li ng-show="isInFilter()">
    <ul ng-show="!state.loading" class="no-padding criteria-list-terms">
      <li class="criteria-list-item" ng-show="terms && terms.length>10">
        <span class="input-group input-group-sm no-padding-top">
          <input ng-model="searchText" type="text" class="form-control" aria-describedby="term-search">
          <span class="input-group-addon" id="term-search"><i class="glyphicon glyphicon-search"></i></span>
        </span>
      </li>
      <li ng-show="terms && terms.length>10"></li>
      <li class="criteria-list-item"
        ng-show="isInFilter()"
        ng-repeat="term in terms | regex:searchText:['key','title','description']"
        uib-popover="{{term.description}}"
        popover-title="{{term.title}}"
        popover-placement="bottom"
        popover-trigger="mouseenter">
          <span>
            <label class="control-label">
              <input ng-model="checkboxTerms[term.key]"
                type="checkbox"
                ng-click="updateSelection()">
              <span>{{truncate(term.title)}}</span>
            </label>
          </span>
          <span class="pull-right">
            <span class="agg-term-count" ng-show="term.count !== 0">{{term.count}}</span>
            <span class="agg-term-count-default" ng-show="term.count === 0">{{term.default}}</span>
          </span>
      </li>
    </ul>
  </li>
</ul>