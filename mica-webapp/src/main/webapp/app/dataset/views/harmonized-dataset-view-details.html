<!--
  ~ Copyright (c) 2018 OBiBa. All rights reserved.
  ~
  ~ This program and the accompanying materials
  ~ are made available under the terms of the GNU Public License v3.0.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<div class="voffset4">
  <div class="row">
    <div class="col-md-6">
      <div sf-model="dataset.model" sf-form="sfForm.definition" sf-schema="sfForm.schema" sf-options="sfOptions"></div>
    </div>
    <div class="col-md-6">
      <h3 translate ng-show="dataset.protocol">dataset.data-schema.title</h3>
      <p class="help-block" translate>dataset.data-schema.info</p>


      <div ng-show="dataset.protocol.harmonizationTable.namespace === 'opal'">
        <h4 translate>dataset.datasource.opal.title</h4>

        <table class="table table-bordered table-striped">
          <tbody>
          <tr>
            <th translate>dataset.project</th>
            <td>
              <a ng-href="{{opal + '/ui/index.html#!project;name=' + datasetProject}}" target="_blank">{{datasetProject}}</a>
            </td>
          </tr>
          <tr>
            <th translate>dataset.table</th>
            <td>
              <a ng-href="{{opal + '/ui/index.html#!project;name=' + datasetProject + ';tab=TABLES;path=' + datasetProject + '.' + datasetTable}}" target="_blank">{{datasetTable}}</a>
            </td>
          </tr>
          </tbody>
        </table>
      </div>

      <div ng-show="dataset.protocol.harmonizationTable.namespace === 'file'">
        <h4 translate>dataset.datasource.file.title</h4>

        <table class="table table-bordered table-striped">
          <tbody>
          <tr>
            <th translate>path</th>
            <td>
              {{dataset.protocol.harmonizationTable.path}}
            </td>
          </tr>
          <tr>
            <th translate>dataset.table</th>
            <td>
              {{dataset.protocol.harmonizationTable.table}}
            </td>
          </tr>
          </tbody>
        </table>
      </div>

      <div ng-show="dataset.protocol.harmonizationTable.namespace === 'other'">
        <h4 translate>dataset.datasource.other.title</h4>

        <table class="table table-bordered table-striped">
          <tbody>
          <tr>
            <th translate>dataset.datasource.other.nid</th>
            <td>
              {{dataset.protocol.harmonizationTable.nid}}
            </td>
          </tr>
          <tr>
            <th translate>dataset.datasource.other.nss</th>
            <td>
              {{dataset.protocol.harmonizationTable.nss}}
            </td>
          </tr>
          </tbody>
        </table>
      </div>

      <div>
        <h3 translate ng-show="datasetStudy">dataset.harmonization-study.title</h3>
        <p class="help-block" ng-show="harmonizedDatasetStudy" translate>dataset.harmonization-study.info</p>
        <table class="table table-bordered table-striped" ng-show="datasetStudy">
          <tbody>
          <tr>
            <th translate>harmonization-initiative.short-label</th>
            <td>
              <a ng-href="#/harmonization-study/{{datasetStudy}}">
                {{datasetStudy}}
              </a>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <dataset-study-tables-form></dataset-study-tables-form>
</div>
