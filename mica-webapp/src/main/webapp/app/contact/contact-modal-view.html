<!--
  ~ Copyright (c) 2018 OBiBa. All rights reserved.
  ~
  ~ This program and the accompanying materials
  ~ are made available under the terms of the GNU Public License v3.0.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<div class="modal-content">

  <div class="modal-header">
    <button type="button" class="close" aria-hidden="true" ng-click="close()">&times;</button>
    <h4 class="modal-title">{{contact.title}} {{contact.firstName}} {{contact.lastName}}</h4>
  </div>

  <div class="modal-body">
    <div sf-model="contact" sf-form="sfForm.definition" sf-schema="sfForm.schema" sf-options="sfOptions"></div>

    <div class="row">
      <hr/>
      <div class="col-xs-12">
        <h3 translate>memberships</h3>
      </div>

      <div class="col-xs-12">
        <h4 translate>studies</h4>
        <span ng-repeat="membership in contact.studyMemberships">
          <a target="_blank" ng-href="#/{{PersonTypeToResourceMap[membership.type]}}/{{membership.parentId}}">
            <localized value="membership.parentAcronym" lang="lang"></localized>
          </a>
          (<em>{{'contact.label.' + membership.role | translate}}</em>)<span ng-if="!$last">,</span>
        </span>

        <span ng-if="!contact.studyMemberships || contact.studyMemberships.length === 0" translate>no-memberships</span>
      </div>

      <div class="col-xs-12">
        <h4 translate>networks</h4>
        <span ng-repeat="membership in contact.networkMemberships">
          <a target="_blank" ng-href="#/{{PersonTypeToResourceMap[membership.type]}}/{{membership.parentId}}">
            <localized value="membership.parentAcronym" lang="lang"></localized>
          </a>
          (<em>{{'contact.label.' + membership.role | translate}}</em>)<span ng-if="!$last">,</span>
        </span>

        <span ng-if="!contact.networkMemberships || contact.networkMemberships.length === 0" translate>no-memberships</span>
      </div>
    </div>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-default" ng-click="close()">
      <span translate>close</span>
    </button>
  </div>

</div>
